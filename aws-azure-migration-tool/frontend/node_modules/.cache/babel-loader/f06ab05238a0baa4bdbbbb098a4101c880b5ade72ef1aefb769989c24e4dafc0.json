{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"home\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"upload-section\"\n};\nconst _hoisted_3 = {\n  class: \"card\"\n};\nconst _hoisted_4 = {\n  class: \"card-body\"\n};\nconst _hoisted_5 = {\n  class: \"mb-3\"\n};\nconst _hoisted_6 = [\"disabled\"];\nconst _hoisted_7 = {\n  key: 0,\n  class: \"mt-2 text-success\"\n};\nconst _hoisted_8 = {\n  class: \"mb-3\"\n};\nconst _hoisted_9 = [\"disabled\"];\nconst _hoisted_10 = {\n  key: 0,\n  class: \"mt-2 text-success\"\n};\nconst _hoisted_11 = [\"disabled\"];\nconst _hoisted_12 = {\n  key: 0,\n  class: \"spinner-border spinner-border-sm me-2\",\n  role: \"status\",\n  \"aria-hidden\": \"true\"\n};\nconst _hoisted_13 = {\n  key: 1,\n  class: \"loading-section text-center my-5\"\n};\nconst _hoisted_14 = {\n  key: 2,\n  class: \"report-section\"\n};\nconst _hoisted_15 = {\n  class: \"d-flex justify-content-end mb-3\"\n};\nconst _hoisted_16 = {\n  class: \"card\"\n};\nconst _hoisted_17 = {\n  class: \"card-body\"\n};\nconst _hoisted_18 = [\"innerHTML\"];\nconst _hoisted_19 = {\n  key: 3,\n  class: \"alert alert-danger mt-3\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[10] || (_cache[10] = _createElementVNode(\"h1\", {\n    class: \"mb-4\"\n  }, \"AWS Glue to Azure Data Factory Migration Mapping Tool\", -1)), !$data.report ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_cache[7] || (_cache[7] = _createElementVNode(\"div\", {\n    class: \"card-header bg-primary text-white\"\n  }, [_createElementVNode(\"h5\", {\n    class: \"mb-0\"\n  }, \"Upload AWS Glue Files\")], -1)), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_cache[5] || (_cache[5] = _createElementVNode(\"label\", {\n    for: \"glue-config\",\n    class: \"form-label\"\n  }, \"AWS Glue Configuration (JSON)\", -1)), _createElementVNode(\"input\", {\n    type: \"file\",\n    id: \"glue-config\",\n    class: \"form-control\",\n    accept: \".json\",\n    onChange: _cache[0] || (_cache[0] = (...args) => $options.handleGlueConfigChange && $options.handleGlueConfigChange(...args)),\n    disabled: $data.isLoading\n  }, null, 40, _hoisted_6), $data.glueConfigName ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [_createElementVNode(\"small\", null, \"Selected file: \" + _toDisplayString($data.glueConfigName), 1)])) : _createCommentVNode(\"\", true)]), _createElementVNode(\"div\", _hoisted_8, [_cache[6] || (_cache[6] = _createElementVNode(\"label\", {\n    for: \"glue-script\",\n    class: \"form-label\"\n  }, \"AWS Glue Script (Python)\", -1)), _createElementVNode(\"input\", {\n    type: \"file\",\n    id: \"glue-script\",\n    class: \"form-control\",\n    accept: \".py\",\n    onChange: _cache[1] || (_cache[1] = (...args) => $options.handleGlueScriptChange && $options.handleGlueScriptChange(...args)),\n    disabled: $data.isLoading\n  }, null, 40, _hoisted_9), $data.glueScriptName ? (_openBlock(), _createElementBlock(\"div\", _hoisted_10, [_createElementVNode(\"small\", null, \"Selected file: \" + _toDisplayString($data.glueScriptName), 1)])) : _createCommentVNode(\"\", true)]), _createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.generateMapping && $options.generateMapping(...args)),\n    class: \"btn btn-primary\",\n    disabled: !$options.hasFiles || $data.isLoading\n  }, [$data.isLoading ? (_openBlock(), _createElementBlock(\"span\", _hoisted_12)) : _createCommentVNode(\"\", true), _createTextVNode(\" \" + _toDisplayString($data.isLoading ? 'Generating...' : 'Generate Migration Mapping'), 1)], 8, _hoisted_11)])])])) : _createCommentVNode(\"\", true), $data.isLoading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_13, _cache[8] || (_cache[8] = [_createElementVNode(\"div\", {\n    class: \"spinner-border text-primary\",\n    role: \"status\"\n  }, [_createElementVNode(\"span\", {\n    class: \"visually-hidden\"\n  }, \"Loading...\")], -1), _createElementVNode(\"p\", {\n    class: \"mt-3\"\n  }, \"Generating migration mapping report...\", -1), _createElementVNode(\"p\", {\n    class: \"text-muted\"\n  }, \"This may take a few moments.\", -1)]))) : _createCommentVNode(\"\", true), $data.report ? (_openBlock(), _createElementBlock(\"div\", _hoisted_14, [_createElementVNode(\"div\", _hoisted_15, [_createElementVNode(\"button\", {\n    onClick: _cache[3] || (_cache[3] = (...args) => $options.resetForm && $options.resetForm(...args)),\n    class: \"btn btn-secondary me-2\"\n  }, \"Upload New Files\"), _createElementVNode(\"button\", {\n    onClick: _cache[4] || (_cache[4] = (...args) => $options.downloadReport && $options.downloadReport(...args)),\n    class: \"btn btn-primary\"\n  }, \"Download Report\")]), _createElementVNode(\"div\", _hoisted_16, [_cache[9] || (_cache[9] = _createElementVNode(\"div\", {\n    class: \"card-header bg-success text-white\"\n  }, [_createElementVNode(\"h5\", {\n    class: \"mb-0\"\n  }, \"Migration Mapping Report\")], -1)), _createElementVNode(\"div\", _hoisted_17, [_createElementVNode(\"div\", {\n    class: \"report-content\",\n    innerHTML: $options.renderedReport\n  }, null, 8, _hoisted_18)])])])) : _createCommentVNode(\"\", true), $data.error ? (_openBlock(), _createElementBlock(\"div\", _hoisted_19, _toDisplayString($data.error), 1)) : _createCommentVNode(\"\", true)]);\n}","map":{"version":3,"names":["class","role","_createElementBlock","_hoisted_1","_createElementVNode","$data","report","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","for","type","id","accept","onChange","_cache","args","$options","handleGlueConfigChange","disabled","isLoading","glueConfigName","_hoisted_7","_toDisplayString","_hoisted_8","handleGlueScriptChange","glueScriptName","_hoisted_10","onClick","generateMapping","hasFiles","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","resetForm","downloadReport","_hoisted_16","_hoisted_17","innerHTML","renderedReport","error","_hoisted_19"],"sources":["D:\\ddt_aws_adf\\aws-azure-migration-tool\\frontend\\src\\views\\Home.vue"],"sourcesContent":["<template>\r\n  <div class=\"home\">\r\n    <h1 class=\"mb-4\">AWS Glue to Azure Data Factory Migration Mapping Tool</h1>\r\n    \r\n    <div v-if=\"!report\" class=\"upload-section\">\r\n      <div class=\"card\">\r\n        <div class=\"card-header bg-primary text-white\">\r\n          <h5 class=\"mb-0\">Upload AWS Glue Files</h5>\r\n        </div>\r\n        <div class=\"card-body\">\r\n          <div class=\"mb-3\">\r\n            <label for=\"glue-config\" class=\"form-label\">AWS Glue Configuration (JSON)</label>\r\n            <input \r\n              type=\"file\" \r\n              id=\"glue-config\" \r\n              class=\"form-control\"\r\n              accept=\".json\"\r\n              @change=\"handleGlueConfigChange\"\r\n              :disabled=\"isLoading\"\r\n            />\r\n            <div v-if=\"glueConfigName\" class=\"mt-2 text-success\">\r\n              <small>Selected file: {{ glueConfigName }}</small>\r\n            </div>\r\n          </div>\r\n          \r\n          <div class=\"mb-3\">\r\n            <label for=\"glue-script\" class=\"form-label\">AWS Glue Script (Python)</label>\r\n            <input \r\n              type=\"file\" \r\n              id=\"glue-script\" \r\n              class=\"form-control\"\r\n              accept=\".py\"\r\n              @change=\"handleGlueScriptChange\"\r\n              :disabled=\"isLoading\"\r\n            />\r\n            <div v-if=\"glueScriptName\" class=\"mt-2 text-success\">\r\n              <small>Selected file: {{ glueScriptName }}</small>\r\n            </div>\r\n          </div>\r\n          \r\n          <button \r\n            @click=\"generateMapping\" \r\n            class=\"btn btn-primary\"\r\n            :disabled=\"!hasFiles || isLoading\"\r\n          >\r\n            <span v-if=\"isLoading\" class=\"spinner-border spinner-border-sm me-2\" role=\"status\" aria-hidden=\"true\"></span>\r\n            {{ isLoading ? 'Generating...' : 'Generate Migration Mapping' }}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    \r\n    <div v-if=\"isLoading\" class=\"loading-section text-center my-5\">\r\n      <div class=\"spinner-border text-primary\" role=\"status\">\r\n        <span class=\"visually-hidden\">Loading...</span>\r\n      </div>\r\n      <p class=\"mt-3\">Generating migration mapping report...</p>\r\n      <p class=\"text-muted\">This may take a few moments.</p>\r\n    </div>\r\n    \r\n    <div v-if=\"report\" class=\"report-section\">\r\n      <div class=\"d-flex justify-content-end mb-3\">\r\n        <button @click=\"resetForm\" class=\"btn btn-secondary me-2\">Upload New Files</button>\r\n        <button @click=\"downloadReport\" class=\"btn btn-primary\">Download Report</button>\r\n      </div>\r\n      \r\n      <div class=\"card\">\r\n        <div class=\"card-header bg-success text-white\">\r\n          <h5 class=\"mb-0\">Migration Mapping Report</h5>\r\n        </div>\r\n        <div class=\"card-body\">\r\n          <div class=\"report-content\" v-html=\"renderedReport\"></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    \r\n    <div v-if=\"error\" class=\"alert alert-danger mt-3\">\r\n      {{ error }}\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { marked } from 'marked';\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  name: 'Home',\r\n  data() {\r\n    return {\r\n      glueConfig: null,\r\n      glueScript: null,\r\n      glueConfigName: '',\r\n      glueScriptName: '',\r\n      report: null,\r\n      isLoading: false,\r\n      error: null\r\n    };\r\n  },\r\n  computed: {\r\n    hasFiles() {\r\n      return this.glueConfig && this.glueScript;\r\n    },\r\n    renderedReport() {\r\n      return this.report ? marked(this.report) : '';\r\n    }\r\n  },\r\n  methods: {\r\n    handleGlueConfigChange(event) {\r\n      const file = event.target.files[0];\r\n      if (file) {\r\n        this.glueConfigName = file.name;\r\n        this.glueConfig = file;\r\n        this.error = null;\r\n      }\r\n    },\r\n    handleGlueScriptChange(event) {\r\n      const file = event.target.files[0];\r\n      if (file) {\r\n        this.glueScriptName = file.name;\r\n        this.glueScript = file;\r\n        this.error = null;\r\n      }\r\n    },\r\n    async generateMapping() {\r\n      if (!this.hasFiles) {\r\n        this.error = \"Please upload both AWS Glue configuration and script files.\";\r\n        return;\r\n      }\r\n      \r\n      this.isLoading = true;\r\n      this.error = null;\r\n      \r\n      try {\r\n        const formData = new FormData();\r\n        formData.append('glue_config', this.glueConfig);\r\n        formData.append('glue_script', this.glueScript);\r\n        \r\n        const response = await axios.post('/api/generate-mapping', formData);\r\n        this.report = response.data.report;\r\n      } catch (error) {\r\n        this.error = `Error generating report: ${error.response?.data?.detail || error.message}`;\r\n      } finally {\r\n        this.isLoading = false;\r\n      }\r\n    },\r\n    resetForm() {\r\n      this.glueConfig = null;\r\n      this.glueScript = null;\r\n      this.glueConfigName = '';\r\n      this.glueScriptName = '';\r\n      this.report = null;\r\n      this.error = null;\r\n      \r\n      // Reset file input elements after Vue has updated the DOM\r\n      this.$nextTick(() => {\r\n        const glueConfigInput = document.getElementById('glue-config');\r\n        if (glueConfigInput) {\r\n          glueConfigInput.value = '';\r\n        }\r\n        const glueScriptInput = document.getElementById('glue-script');\r\n        if (glueScriptInput) {\r\n          glueScriptInput.value = '';\r\n        }\r\n      });\r\n    },\r\n    downloadReport() {\r\n      if (!this.report) return;\r\n      \r\n      const blob = new Blob([this.report], { type: 'text/markdown' });\r\n      const url = window.URL.createObjectURL(blob);\r\n      const a = document.createElement('a');\r\n      a.href = url;\r\n      a.download = 'aws-azure-migration-mapping.md';\r\n      document.body.appendChild(a);\r\n      a.click();\r\n      window.URL.revokeObjectURL(url);\r\n      document.body.removeChild(a);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.report-content {\r\n  max-height: 70vh;\r\n  overflow-y: auto;\r\n  padding: 1rem;\r\n  background-color: #f8f9fa;\r\n  border-radius: 0.25rem;\r\n}\r\n\r\n.report-content :deep(h1),\r\n.report-content :deep(h2),\r\n.report-content :deep(h3),\r\n.report-content :deep(h4),\r\n.report-content :deep(h5),\r\n.report-content :deep(h6) {\r\n  margin-top: 1.5rem;\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.report-content :deep(table) {\r\n  width: 100%;\r\n  margin-bottom: 1rem;\r\n  border-collapse: collapse;\r\n}\r\n\r\n.report-content :deep(table th),\r\n.report-content :deep(table td) {\r\n  padding: 0.5rem;\r\n  border: 1px solid #dee2e6;\r\n}\r\n\r\n.report-content :deep(table th) {\r\n  background-color: #f1f1f1;\r\n}\r\n\r\n.report-content :deep(pre) {\r\n  background-color: #f1f1f1;\r\n  padding: 1rem;\r\n  border-radius: 0.25rem;\r\n  overflow-x: auto;\r\n}\r\n\r\n.report-content :deep(code) {\r\n  font-family: SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace;\r\n  font-size: 0.875em;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}